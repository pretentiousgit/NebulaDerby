//	HYPE.documents["nebula_derby"]

(function(){(function k(){function l(a,b,d){var c=!1;null==window[a]&&(null==window[b]?(window[b]=[],window[b].push(k),a=document.getElementsByTagName("head")[0],b=document.createElement("script"),c=h,false==!0&&(c=""),b.type="text/javascript",b.src=c+"/"+d,a.appendChild(b)):window[b].push(k),c=!0);return c}var h="nebula_derby.hyperesources",c="nebula_derby",e="nebuladerby_hype_container";if(false==!1)try{for(var f=document.getElementsByTagName("script"),
a=0;a<f.length;a++){var b=f[a].src,d=null!=b?b.indexOf("/nebuladerby_hype_generated_script.js"):-1;if(-1!=d){h=b.substr(0,d);break}}}catch(n){}if(false==!1&&(a=navigator.userAgent.match(/MSIE (\d+\.\d+)/),a=parseFloat(a&&a[1])||null,a=l("HYPE_584","HYPE_dtl_584",!0==(null!=a&&10>a||false==!0)?"HYPE-584.full.min.js":"HYPE-584.thin.min.js"),false==!0&&(a=a||l("HYPE_w_584","HYPE_wdtl_584","HYPE-584.waypoints.min.js")),a))return;f=window.HYPE.documents;
if(null!=f[c]){b=1;a=c;do c=""+a+"-"+b++;while(null!=f[c]);d=document.getElementsByTagName("div");b=!1;for(a=0;a<d.length;a++)if(d[a].id==e&&null==d[a].getAttribute("HYP_dn")){var b=1,g=e;do e=""+g+"-"+b++;while(null!=document.getElementById(e));d[a].id=e;b=!0;break}if(!1==b)return}b=[];b=[{name:"initSocket",source:"function(hypeDocument, element, event) {\tconsole.log('initSocket loaded');\n\t\n\tfunction getWidth() {\n\t\treturn Math.max(\n\t\tdocument.body.scrollWidth,\n\t\tdocument.documentElement.scrollWidth,\n\t\tdocument.body.offsetWidth,\n\t\tdocument.documentElement.offsetWidth,\n\t\tdocument.documentElement.clientWidth\n  \t)}\n  \t\n\tfunction getWhaleRight(whaleName) {\n\t\treturn hypeDocument.getElementProperty(hypeDocument.getElementById(whaleName), 'left') + hypeDocument.getElementProperty(hypeDocument.getElementById(whaleName), 'width')\n\t}\n\t\n\tfunction setWhalePositions(array) {\n\t\tarray.whales.map((whale) => {\t\n\t\t\tconst w = whales.find((obj) => obj.name === whale.name);\n\t\t\thypeDocument.setElementProperty(w.element, 'left', whale.position, 0.24, 'easeout');\n\t\t})\n\t}\n  \t\n\tconst whales = [{\n\t\tname: \"imperial\",\n\t\telement: hypeDocument.getElementById('imperialWhale'),\n\t\tposition: hypeDocument.getElementProperty(hypeDocument.getElementById('imperialWhale'), 'left'),\n\t\tright: getWhaleRight('imperialWhale'),\n\t},\n\t{\n\t\tname: \"cyber\",\n\t\telement: hypeDocument.getElementById('cyberWhale'),\n\t\tposition: hypeDocument.getElementProperty(hypeDocument.getElementById('cyberWhale'), 'left'),\n\t\tright: getWhaleRight('cyberWhale'),\n\t},\n\t{\n\t\tname: \"predator\",\n\t\telement: hypeDocument.getElementById('predatorWhale'),\n\t\tposition: hypeDocument.getElementProperty(hypeDocument.getElementById('predatorWhale'), 'left'),\n\t\tright: getWhaleRight('predatorWhale')\n\t},\n\t\t{\n\t\tname: \"love\",\n\t\telement: hypeDocument.getElementById('loveWhale'),\n\t\tposition: hypeDocument.getElementProperty(hypeDocument.getElementById('loveWhale'), 'left'),\n\t\tright: getWhaleRight('loveWhale')\n\t}]\n\t\n\tconst bolt = {\n\t\tleft: hypeDocument.getElementProperty(hypeDocument.getElementById('bolt'), 'left'),\n\t\twidth: hypeDocument.getElementProperty(hypeDocument.getElementById('bolt'), 'width')\n\t};\n\t\n\tconst fieldSize = getWidth() - whales[0].position+hypeDocument.getElementProperty(whales[0].element, 'width');\n\tconst finishLine = hypeDocument.getElementProperty(hypeDocument.getElementById('bolt'), 'left');\n\t\n\tsocket.emit('fieldSize', {fieldsize: fieldSize, finishLine: finishLine, whales: whales, bolt: bolt});\n\t\n\tsocket.on('startRace', function (msg) {\n  \t\tfunction millisToMinutesAndSeconds(millis) {\n\t\t    var minutes = Math.floor(millis / 60000);\n\t\t    var seconds = ((millis % 60000) / 1000).toFixed(0);\n\t\t    return (minutes + \":\" + (seconds < 10 ? '0' : '') + seconds);\n\t\t}\n\n\t\tconst timer = hypeDocument.getElementById('gameTimer');\n\t\tconsole.log('timer', timer, msg);\n\n\t\tvar timerValue = msg;\n\n\t\tconst intervalId = setInterval(() => {\n\t\t\ttimer.innerHTML = millisToMinutesAndSeconds(timerValue);\n\t\t    timerValue -= 20;\n\t\t}, 20);\n  \n\t\tsetTimeout(() => {\n  \t\t\tclearInterval(intervalId);\n\t\t}, msg)\n\t})\n\t\n\tsocket.on('whaleState', (msg) => {\n\t\tconsole.log('whaleState!', msg);\n\t\tsetWhalePositions(msg);\n\t})\n\t\n\tsocket.on('newHeat', (msg) => {\n\t\tsetWhalePositions(msg);\n\t\thypeDocument.setElementProperty(hypeDocument.getElementById('victory'), 'opacity', 0);\n\t\thypeDocument.setElementProperty(hypeDocument.getElementById('victoryWhale'), 'opacity', 0);\n\t\thypeDocument.getElementById('victoryWhale').innerHTML = '';\n\t\thypeDocument.setElementProperty(hypeDocument.getElementById('exclamation'), 'opacity', 0);\n\t\thypeDocument.setElementProperty(hypeDocument.getElementById('star'), 'opacity', 0);\n\t});\n\t\n\tsocket.on('winner', (msg) => {\n\t\tconsole.log(msg);\n\t\thypeDocument.startTimelineNamed('victory', hypeDocument.kDirectionForward);\n\t})\n\t\n\tsocket.on('adminEvent', (event) => {\n\t\tconsole.log('Event', event);\n\t})\n}",identifier:"10"},{name:"sendSocketMessage",source:"function(hypeDocument, element, event) {\tsocket.emit('message', 'helloWorld');\n\tconsole.log('emitted');\n}",identifier:"8"}];d={};g={};for(a=0;a<b.length;a++)try{g[b[a].identifier]=b[a].name,d[b[a].name]=eval("(function(){return "+b[a].source+"})();")}catch(m){window.console&&window.console.log(m),d[b[a].name]=
function(){}}a=new HYPE_584(c,e,{"10":{p:1,n:"SketchBook90FA0702-DBC5-4648-A61F-8B57664C5276_2.png",g:"39",t:"@1x"},"2":{p:1,n:"Veil_Nebula_-_NGC6960.jpg",g:"14",o:true,t:"@1x"},"-2":{n:"blank.gif"},"3":{p:1,n:"Veil_Nebula_-_NGC6960_2x.jpg",g:"14",o:true,t:"@2x"},"11":{p:1,n:"SketchBookFC66D2B6-A0F5-4F72-A7E2-7F94A86054AF.png",g:"41",t:"@1x"},"4":{n:"AZSailorTattoo.ttf"},"5":{n:"AZ%20Sailor%20Tattoo.otf"},"12":{p:1,n:"Untitled_4.png",g:"89",t:"@1x"},"6":{n:"AZSailorTattoo.eot"},"13":{p:1,n:"bolt.svg",g:"87",t:"image/svg+xml"},"7":{p:1,n:"AZSailorTattoo.svg",g:"27",t:"image/svg+xml"},"-1":{n:"PIE.htc"},"0":{n:"socket.io.slim.js"},"8":{n:"AZSailorTattoo.woff"},"14":{p:1,n:"star.svg",g:"93",t:"image/svg+xml"},"1":{p:1,n:"IMG_0014.png",g:"11",t:"@1x"},"9":{n:"socketGlobal.js"}},h,["<style>\n    @font-face {\n        font-family: 'AZSailorTattoo', Arial, Helvetica;\n        src: url('nebula_derby.hyperesources/AZSailorTattoo.eot?#iefix') format('embedded-opentype'),\n             url('nebula_derby.hyperesources/AZSailorTattoo.woff') format('woff'),\n             url('nebula_derby.hyperesources/AZSailorTattoo.ttf') format('truetype'),\n             url('nebula_derby.hyperesources/AZSailorTattoo.svg#AZSailorTattoo') format('svg');\n             font-weight: normal;\n\t\t\t font-style: normal;\n    }\n</style>"],d,[{n:"SendMessage",o:"1",X:[0]}],[{o:"3",A:{a:[{p:4,h:"10"}]},p:"600px",a:100,Y:1920,Z:1080,b:100,cA:false,c:"#000000",L:[],bY:1,d:1920,U:{},T:{"91":{i:"91",n:"boltLoop",z:0,b:[],a:[],f:30},"92":{f:30,z:0.25,i:"92",n:"victory",j:{"0":[[1023,707,1023,707,1021,706,1024,710],[1024,710,1046,737,997,584,997,584]]},a:[{f:"c",y:0,z:0.25,i:"d",e:426,s:151,o:"104"},{o:"104",y:0,z:0.25,i:"a",e:772,a:"0",f:"c",s:909},{o:"104",y:0,z:0.25,i:"b",e:371,a:"0",f:"c",s:631.5},{f:"c",y:0,z:0.25,i:"c",e:450,s:228,o:"104"},{f:"c",y:0,z:0.24,i:"e",e:-1,s:0,o:"109"},{f:"c",y:0,z:0.24,i:"e",e:-1,s:0,o:"106"},{f:"c",y:0,z:0.24,i:"e",e:-1,s:0,o:"110"},{y:0,i:"e",s:1,z:0,o:"104",f:"c"},{y:0.04,i:"RotationAngle",s:0,z:0,o:"104",f:"c"},{f:"c",y:0.24,z:0.01,i:"e",e:1,s:-1,o:"109"},{f:"c",y:0.24,z:0.01,i:"e",e:1,s:-1,o:"106"},{f:"c",y:0.24,z:0.01,i:"e",e:1,s:-1,o:"110"},{f:"c",p:2,y:0.25,z:0,i:"ActionHandler",s:{a:[{}]},o:"92"},{y:0.25,i:"d",s:426,z:0,o:"104",f:"c"},{y:0.25,i:"a",s:772,z:0,o:"104",f:"c"},{y:0.25,i:"b",s:371,z:0,o:"104",f:"c"},{y:0.25,i:"c",s:450,z:0,o:"104",f:"c"},{y:0.25,i:"e",s:1,z:0,o:"109",f:"c"},{y:0.25,i:"e",s:1,z:0,o:"106",f:"c"},{y:0.25,i:"e",s:1,z:0,o:"110",f:"c"}],b:[]},kTimelineDefaultIdentifier:{i:"kTimelineDefaultIdentifier",n:"Main Timeline",z:1,b:[],a:[{f:"c",y:0,z:0.15,i:"e",e:0.34999999999999998,s:1,o:"111"},{f:"c",p:2,y:0,z:0,i:"ActionHandler",e:{a:[{}]},s:{a:[{b:"kTimelineDefaultIdentifier",p:3,z:false,symbolOid:"2"}]},o:"kTimelineDefaultIdentifier"},{f:"c",p:2,y:0,z:1,i:"ActionHandler",e:{a:[{b:"kTimelineDefaultIdentifier",p:8,z:true,symbolOid:"2",J:false}]},s:{a:[{}]},o:"kTimelineDefaultIdentifier"},{f:"c",y:0.15,z:0.15,i:"e",e:1,s:0.34999999999999998,o:"111"},{f:"c",p:2,y:1,z:0,i:"ActionHandler",s:{a:[{b:"kTimelineDefaultIdentifier",p:8,z:true,symbolOid:"2",J:false}]},o:"kTimelineDefaultIdentifier"},{y:1,i:"e",s:1,z:0,o:"111",f:"c"}],f:30}},bZ:180,O:["102","109","105","111","110","103","104","108","107","106","112"],n:"MainRace","_":0,v:{"109":{G:"#00FDFF",aU:8,c:125,bS:63,d:366,aV:8,cY:"0",e:0,s:"AZSailorTattoo",r:"inline",f:377,t:288,Z:"break-word",i:"exclamation",w:"!",j:"absolute",x:"visible",k:"div",y:"preserve",z:17,aS:8,aT:8,a:1271,b:-12},"112":{h:"41",p:"no-repeat",x:"visible",i:"loveWhale",q:"100% 100%",b:808,a:60,j:"absolute",z:10,k:"div",bS:86,d:125,dB:"img",c:250,r:"inline"},"102":{cN:"none",w:"",h:"14",p:"no-repeat",x:"visible",a:-162,q:"100% 100%",b:-5,j:"absolute",dB:"img",z:1,k:"div",c:2665,d:1095,r:"inline",e:0.75,aP:"auto"},"105":{G:"#FFD479",aU:8,c:196,aV:8,d:55,r:"inline",s:"AZSailorTattoo",t:48,Z:"break-word",i:"gameTimer",w:"<div style=\"text-align: right;\"><br></div>",j:"absolute",x:"visible",k:"div",y:"preserve",z:11,aS:8,aT:8,a:1666,b:49},"108":{h:"89",p:"no-repeat",x:"visible",i:"predatorWhale",q:"100% 100%",b:398,a:60,j:"absolute",z:12,k:"div",bS:86,d:186,dB:"img",c:250,r:"inline"},"111":{h:"87",p:"no-repeat",x:"visible",a:1746,bJ:0.97191455696202533,b:120,q:"100% 100%",dB:"img",z:13,j:"absolute",k:"div",d:910,bS:19,i:"bolt",bL:0,e:1,c:137,bH:0,r:"inline"},"104":{p:"no-repeat",b:371,c:450,q:"100% 100%",bS:63,d:426,r:"inline",cY:"0",e:0,f:133,h:"93",i:"star",j:"absolute",x:"visible",k:"div",dB:"img",z:14,tX:0.5,a:772,RotationAngle:0,tY:0.5},"107":{w:"",h:"39",p:"no-repeat",x:"visible",bS:86,q:"100% 100%",b:629,a:60,j:"absolute",z:9,k:"div",dB:"img",d:125,i:"cyberWhale",c:250,r:"inline"},"110":{G:"#00FDFF",aU:8,c:847,bS:63,d:183,aV:8,cY:"0",e:0,s:"AZSailorTattoo",r:"inline",f:-22,t:144,Z:"break-word",i:"victory",w:"VICTORY",j:"absolute",x:"visible",k:"div",y:"preserve",z:15,aS:8,aT:8,a:401,b:200},"103":{w:"",h:"11",p:"no-repeat",x:"visible",tY:0,a:60,b:257,q:"100% 100%",dB:"img",z:6,j:"absolute",k:"div",d:125,bS:86,i:"imperialWhale",c:250,aG:"A cartoonish blue sperm whale",r:"inline",tX:0},"106":{G:"#00FDFF",aU:8,c:982,bS:63,d:177,aV:8,cY:"0",e:0,s:"AZSailorTattoo",r:"inline",t:144,Z:"break-word",i:"victoryWhale",w:"<br>",j:"absolute",x:"visible",k:"div",y:"preserve",z:16,aS:8,aT:8,a:497,F:"center",b:793}}}],{},g,{},
(function (shouldShow, mainContentContainer) {
	var loadingPageID = mainContentContainer.id + "_loading";
	var loadingDiv = document.getElementById(loadingPageID);

	if(shouldShow == true) {
		if(loadingDiv == null) {	
			loadingDiv = document.createElement("div");
			loadingDiv.id = loadingPageID;
			loadingDiv.style.cssText = "overflow:hidden;position:absolute;width:150px;top:40%;left:0;right:0;margin:auto;padding:2px;border:3px solid #BBB;background-color:#EEE;border-radius:10px;text-align:center;font-family:Helvetica,Sans-Serif;font-size:13px;font-weight:700;color:#AAA;z-index:100000;";
			loadingDiv.innerHTML = "Loading";
			mainContentContainer.appendChild(loadingDiv);
		}
 
		loadingDiv.style.display = "block";
		loadingDiv.removeAttribute("aria-hidden");
		mainContentContainer.setAttribute("aria-busy", true);
	} else {
		loadingDiv.style.display = "none";
		loadingDiv.setAttribute("aria-hidden", true);
		mainContentContainer.removeAttribute("aria-busy");
	}
})

,false,true,-1,true,true,false,false);f[c]=a.API;document.getElementById(e).setAttribute("HYP_dn",
c);a.z_o(this.body)})();})();
